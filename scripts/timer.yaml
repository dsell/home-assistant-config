      
reset_timer:
  alias: "Reset Timer"
  sequence:
    # Cancel ev. old timers
    - service: script.turn_off
      data:
         entity_id: script.start_timer
    # Set new timer
    - service: script.start_timer
      data_template:
        delay: '{{"%0.02d" | format(delay_hours|int)}}:{{"%0.02d" | format(delay_minutes|int)}}:{{"%0.02d" | format(delay_seconds|int)}}'
#        alarmtopic: '{{alarmtopic}}'

start_timer:
  alias: "Start Timer"
  sequence:
    - delay: '{{delay}}'
 #   - service: mqtt.publish
#      data_template:
#        topic: >-
#          {{alarmtopic}}
    - service: script.zanzito_say
      data:
        dest_id: "DennisPhone"
        message: >-
          "Timer expired."
    - delay: 
        seconds: 2
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.zanzito_play_alarm
#    - service: input_boolean.turn_off
#      data:
#        entity_id: input_boolean.timer_start
    
